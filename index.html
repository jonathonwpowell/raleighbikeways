<html>

<head>
    <title>Raleigh Bikeways</title>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Lato', sans-serif;
        }

        #map {
            position: absolute;
            top: 75px;
            bottom: 80px;
            width: 100vw;
        }

        .button { color: #fff; background-color: #555; padding: 1em; margin: 1em; position: absolute; right: 1em; top: 1em; border-radius: 0.5em; border-bottom: 2px #222 solid; cursor: pointer; }

        /* #header {
            position: absolute;
            top: 0;
            height: 75px;
            width: 100%;
            background: whitesmoke;
        }

        #title {
            display: inline-block;
            padding: 20px;
            font-size: 28px;
        }

        #sources {
            float: right;
            padding: 25px;
        }

        #sources span {
            text-transform: uppercase;
            color: #888;
            font-size: 14px;
        }

        #sources a {
            padding-left: 10px;
            text-decoration: none;
            color: #444;
        }

        #sources a:hover {
            color: #000;
        }

        #footer {
            position: absolute;
            height: 80px;
            bottom: 0;
            width: 100%;
            background: whitesmoke;
        }

        #keyTitle {
            background: #2c2c2c;
            height: 30px;
            font-weight: bold;
            text-align: center;
            color: white;
            text-transform: uppercase;
            letter-spacing: 0.6em;
            box-sizing: border-box;
            padding: 6px;
            font-size: 13px;
        }

        #key {
            height: 50px;
            display: flex;
            justify-content: space-evenly;
        }

        .keyEle {
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: white;
            padding: 15px;
            font-size: 14px;
            font-weight: bold;
            flex-grow: 1;
            box-sizing: border-box;
            height: 50px;
            width: 300px;
        }

        #existing {
            background: #eee;
            color: black;
        }

        #greenways {
            background: #28B463;
        }
    
        #programmed {
            background: #3498DB;
        }

        #citrix {
            background: #f9423a;
        }

        .mapboxgl-ctrl-group > button{
            width: 50px !important;
            height: 50px !important;
        }

        .mapboxgl-ctrl-geolocate > button{
            width: 50px !important;
            height: 50px !important;
        }

        .mapboxgl-ctrl-bottom-right .mapboxgl-ctrl-group {
            margin: 0 30px 30px 0 !important;
        }

        .mapboxgl-ctrl-top-right .mapboxgl-ctrl {
            margin: 30px 30px 0 0 !important;
        } */

    </style>

    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.6.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.6.0/mapbox-gl.css' rel='stylesheet' />
    
</head>

<body>
    <div id='resizeDiv' class='button'>Resize container</div>
    <div id='resizeMap' class='button'>Fix map</div>
    <div id="map"></div>
</body>

<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoicGV0ZXJib3llciIsImEiOiJjanF5aHpuYXAwMGhvNDl0MmRkN3F2cHpxIn0.cdJjFtN1PHLcMZTlGC1WNg'

    let map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/peterboyer/cjr49i1ql0mza2srxxtgqlpqw',
        center: [-78.638176, 35.779591],
        zoom: 12
    });

    map.addControl(new mapboxgl.GeolocateControl({
        positionOptions: {
            enableHighAccuracy: true
        },
        trackUserLocation: true
    }),'bottom-right');

    map.on('load', function() {
    var mapCanvas = document.getElementsByClassName('mapboxgl-canvas')[0];
    var mapDiv = document.getElementById('map');
    var breakButton = document.getElementById('resizeDiv');
    var fixButton = document.getElementById('resizeMap');

    var biggerSmaller;
    breakButton.onclick = function() {
        if (biggerSmaller !== 'smaller') {
            mapDiv.style.width = '50%';
            mapCanvas.style.width = '100%';
            biggerSmaller = 'smaller';
        } else {
            mapDiv.style.width = '150%';
            mapCanvas.style.width = '100%';
            biggerSmaller = 'bigger';
        }
    }

    fixButton.onclick = function() {
        map.resize();
    }

});

</script>

</html>
